<!DOCTYPE html>
<html lang="en">
	<head>
        <!-- Required meta tags for IEEE Xplore immersive article -->
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description"
              content="An interactive article on using genetic algorithms to solve the 8-Queens problem. Learn how the choice of representation and operators affects your genetic algorithm.">
        <meta charset="utf8">
        <title>Playing with Monte-Carlo Tree Search
        </title>
    
        <!-- Stylesheet for IEEE Xplore immersive article -->
        <link rel="stylesheet" href="fonts/stylesheet.css">
        <link rel="stylesheet" href="css/style.css">
    
        <!-- MathJax javascript library and implementation file/s -->
        <script type="text/javascript" async
                src="https://xploreqa.ieee.org/xploreAssets/MathJax-274/MathJax.js?config=default">
        </script>
    
        <!-- Example chessboard immersive app -->
        <script type="text/javascript" src="./jquery-3.5.1.js"></script>
    
    
        <script src="./p5.min.js"></script>
        <script src="./tween.umd.js"></script>
    
        <script src="./mcts-viz/draw_tree.js"></script>
        <script src="./mcts-viz/lib/tree.js"></script>
        <script src="./mcts-viz/interactive.js"></script>
        <script type="module" src="./mcts-viz/tree_vis.js"></script>
        <script src="./mcts-viz/lib/tictactoe.js"></script>
        <script src="./mcts-viz/lib/mcts.js"></script>
        <script src="./mcts-viz/sketch.js"></script>
        <script src="./sokoban/SokobanRepresentation.js"></script>
        <script src="./mcts-viz/TTTRepresentation.js"></script>
    
        <link rel="stylesheet" href="./katex.min.css">
        <script src="./katex.min.js"></script>
    
        <script defer src="./auto-render.min.js" onload="renderMathInElement(document.body);"></script>
    
        <script src="./pseudocode.min.js" type="text/javascript"></script>
    
    
        <link rel="stylesheet" type="text/css" href="interactive.css">
        <link rel="stylesheet" type="text/css" href="pseudocode.min.css">
    
        <script type="text/json">
        {
          "katex":{
            "delimiters":[
              {"left": "$$", "right": "$$", "display": true},
              {"left": "$", "right": "$", "display": false}
            ]
          }
        }
        </script>
    
    </head>
	<body>

        <div>
            预先设定的一些内容：==================
            ==================================
        </div>

        <div class="framed">

            <div class="inside">
                <div class="eyebrow">
                    Sokoban: MCTS can be used to solve Sokoban. Sokoban is a puzzle game.
                </div>

                <div>
                    <script type="module" src="./sokoban/tree_viz_sokoban.js"></script>
                    <script src="./sokoban/sokoban_interactive.js"></script>
                    <script src="./sokoban/sokoban_mcts.js"></script>
                    <script src="./sokoban/SokobanGameMapEditor.js"></script>
                    <script type="module">
                        import {vis_sokoban} from "./sokoban/tree_viz_sokoban.js";
                        import SokobanGame from "./sokoban/SokobanGame.js";

                        window.mcts_sokobanGame = new SokobanGame("mcts-")
                        window.soko_mcts_tree_vis_p5 = new p5(vis_sokoban, "soko_mcts_tree_vis");
                        window.soko_mcts_interactive = new SokobanInteractive(soko_mcts_tree_vis_p5, "soko_mcts", mcts_sokobanGame)
                        window.soko_mcts_interactive.setupInteractive()
                        mcts_sokobanGame.init()
                    </script>

                    <div class="four_procedure">
                        <div id="mcts-sokobangamediv" class="interactive-ttt-left">
                            <p>Game: <b>Sokoban</b></p>

                            <p id="mcts-sokobangame"></p>

                            <div id="mcts-p5_game"></div>

                            <p id="mcts-sokobangame_reset">
                                Clear! Step Used: <span id="mcts-sokobangame_step"></span>
                                <button onclick="mcts_sokobanGame.init()">Reset</button>
                            </p>


                            <div id="mcts-sokobangame_machine_controls_area">
                                <b>Machine controls:</b>
                                <div style="background-color: rgb(230, 230, 230); padding: 1em">
                                    <button onclick="mcts_sokobanGame.machineRandomMove()">Make random move</button>
                                    <br>
                                    <button onclick="mcts_sokobanGame.machineMctsMove(soko_mcts_interactive)">Make
                                        MCTS move
                                    </button>
                                    <br>
                                    <button onclick="mcts_sokobanGame.autoPlay(soko_mcts_interactive)">Auto Play
                                    </button>
                                    <br>
                                    Run MCTS for:
                                    <br>
                                    <input id="soko_mcts_tree_vis_mcts_timeout_slider" type="range" min="10"
                                           max="2000" value="30" step="10"/>
                                    <br>
                                    <span id="soko_mcts_tree_vis_mcts_timeout_span"><b>1</b></span> iterations
                                </div>
                            </div>
                        </div>

                        <div class="interactive-ttt-right">
                            <div style="border: solid 1px lightgrey; height: 110px">
                                <div style="float: left; height: 100%; width: auto; padding: 0.25em">
                                    <b>Current step</b>:
                                    <br>
                                    <span id="soko_mcts_current_action_count">(0/0)</span>
                                    <br>
                                    <span id="soko_mcts_current_action_kind">---</span>
                                    <br>
                                    <button id="soko_mcts_btn_next_action" disabled>next step &gt;</button>
                                </div>
                                <div style="float: left; height: 100%; width: auto; padding: 0.25em;">
                                    <b>Current iteration</b>:
                                    <br>
                                    <span id="soko_mcts_current_iteration_count">(0/0)</span>
                                    <br>
                                    <br>
                                    <button id="soko_mcts_btn_next_iteration" disabled>next iteration &gt;&gt;
                                    </button>
                                </div>
                                <div style="float: left; height: 100%; width: auto; margin-top: 0.2em; margin-bottom: 0.2em;">
                                    <button style="width: 200px; height: 45%; margin-bottom: 0.2em;"
                                            id="soko_mcts_btn_last_step" disabled>visualize last step &gt;&gt;&gt;
                                    </button>
                                    <br>
                                    <button style="width: 200px; height: 45%;" id="soko_mcts_btn_make_play"
                                            disabled>make play
                                    </button>
                                </div>
                            </div>
                            <div id="soko_mcts_tree_vis" class="tree_vis"></div>
                        </div>
                    </div>

                </div>

                <div class="caption"><b>Figure 10:</b><br> Machine/MCTS solves puzzle game.
                </div>
            </div>
        </div>
</html>